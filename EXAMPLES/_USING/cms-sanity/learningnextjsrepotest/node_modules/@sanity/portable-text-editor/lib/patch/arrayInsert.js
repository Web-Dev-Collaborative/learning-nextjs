"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AFTER = exports.BEFORE = void 0;
exports.BEFORE = 'before';
exports.AFTER = 'after';
function insert(array, position, index, ...args) {
    if (position !== exports.BEFORE && position !== exports.AFTER) {
        throw new Error(`Invalid position "${position}", must be either ${exports.BEFORE} or ${exports.AFTER}`);
    }
    const items = flatten(...args);
    if (array.length === 0) {
        return items;
    }
    const len = array.length;
    const idx = Math.abs((len + index) % len) % len;
    const normalizedIdx = position === 'after' ? idx + 1 : idx;
    const copy = array.slice();
    copy.splice(normalizedIdx, 0, ...flatten(items));
    return copy;
}
exports.default = insert;
function flatten(...values) {
    return values.reduce((prev, item) => prev.concat(item), []);
}
//# sourceMappingURL=arrayInsert.js.map