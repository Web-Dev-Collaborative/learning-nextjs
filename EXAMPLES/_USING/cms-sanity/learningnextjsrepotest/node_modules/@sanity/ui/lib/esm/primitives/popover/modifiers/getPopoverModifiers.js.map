{
  "version": 3,
  "sources": ["../../../../../src/primitives/popover/modifiers/getPopoverModifiers.ts"],
  "sourcesContent": ["import maxSizeModifier from 'popper-max-size-modifier'\nimport {Modifier} from 'react-popper'\nimport {PopoverModifiersProps} from './types'\n\n/*\n\nThe order of popper phases:\n\n- beforeRead\n- read\n- afterRead\n- beforeMain\n- main\n- afterMain\n- beforeWrite\n- write\n- afterWrite\n\n*/\n\nexport function getPopoverModifiers(props: PopoverModifiersProps): Modifier<any, any>[] {\n  const {\n    allowedAutoPlacements,\n    arrow,\n    arrowElement,\n    boundaryElement,\n    constrainSize,\n    distance,\n    fallbackPlacements,\n    margins,\n    matchReferenceWidth,\n    preventOverflow,\n    skidding,\n    tether,\n    tetherOffset,\n  } = props\n\n  return [\n    constrainSize && {\n      ...maxSizeModifier,\n      options: {\n        boundary: boundaryElement || undefined,\n        padding: 8,\n      },\n    },\n    constrainSize && {\n      name: 'applyMaxSize',\n      enabled: true,\n      phase: 'beforeWrite',\n      requires: ['maxSize'],\n      fn({state}: any) {\n        const {width, height} = state.modifiersData.maxSize\n\n        state.styles.popper = {\n          ...state.styles.popper,\n          maxWidth: `${width}px`,\n          maxHeight: `${height}px`,\n        }\n      },\n    },\n    arrow && {\n      name: 'arrow',\n      options: {\n        element: arrowElement,\n        padding: 4,\n      },\n    },\n    preventOverflow && {\n      name: 'preventOverflow',\n      options: {\n        altAxis: true,\n        boundary: boundaryElement || undefined,\n        padding: 8,\n        tether,\n        tetherOffset,\n      },\n    },\n    {\n      name: 'offset',\n      options: {\n        offset: [skidding, distance],\n      },\n    },\n    {\n      name: 'margins',\n      enabled: true,\n      phase: 'beforeRead',\n      fn: ({state}: any) => {\n        const {rects} = state\n\n        if (margins && rects.reference) {\n          rects.reference.x += margins[3]\n          rects.reference.y += margins[1]\n          rects.reference.width -= margins[1] + margins[3]\n          rects.reference.height -= margins[0] + margins[2]\n        }\n      },\n    },\n    {\n      name: 'flip',\n      options: {\n        allowedAutoPlacements,\n        boundary: boundaryElement || undefined,\n        fallbackPlacements,\n        padding: 8,\n      },\n    },\n    matchReferenceWidth && {\n      name: 'matchWidth',\n      enabled: true,\n      phase: 'beforeWrite',\n      requires: ['computeStyles'],\n      fn({state}: any) {\n        const {width} = state.rects.reference\n\n        state.styles.popper.width = `${width}px`\n      },\n      effect: ({state}: any) => {\n        const refElement = state.elements.reference\n\n        if (refElement instanceof HTMLElement) {\n          state.elements.popper.style.width = `${\n            refElement.offsetWidth - (margins ? margins[1] + margins[3] : 0)\n          }px`\n        }\n      },\n    },\n  ].filter(Boolean) as Modifier<any, any>[]\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;AAAA;AAoBO,6BAA6B,OAAoD;AACtF,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,MACE;AAEJ,SAAO;AAAA,IACL,iBAAiB,iCACZ,kBADY;AAAA,MAEf,SAAS;AAAA,QACP,UAAU,mBAAmB;AAAA,QAC7B,SAAS;AAAA;AAAA;AAAA,IAGb,iBAAiB;AAAA,MACf,MAAM;AAAA,MACN,SAAS;AAAA,MACT,OAAO;AAAA,MACP,UAAU,CAAC;AAAA,MACX,GAAG,EAAC,SAAa;AACf,cAAM,EAAC,OAAO,WAAU,MAAM,cAAc;AAE5C,cAAM,OAAO,SAAS,iCACjB,MAAM,OAAO,SADI;AAAA,UAEpB,UAAU,GAAG;AAAA,UACb,WAAW,GAAG;AAAA;AAAA;AAAA;AAAA,IAIpB,SAAS;AAAA,MACP,MAAM;AAAA,MACN,SAAS;AAAA,QACP,SAAS;AAAA,QACT,SAAS;AAAA;AAAA;AAAA,IAGb,mBAAmB;AAAA,MACjB,MAAM;AAAA,MACN,SAAS;AAAA,QACP,SAAS;AAAA,QACT,UAAU,mBAAmB;AAAA,QAC7B,SAAS;AAAA,QACT;AAAA,QACA;AAAA;AAAA;AAAA,IAGJ;AAAA,MACE,MAAM;AAAA,MACN,SAAS;AAAA,QACP,QAAQ,CAAC,UAAU;AAAA;AAAA;AAAA,IAGvB;AAAA,MACE,MAAM;AAAA,MACN,SAAS;AAAA,MACT,OAAO;AAAA,MACP,IAAI,CAAC,EAAC,YAAgB;AACpB,cAAM,EAAC,UAAS;AAEhB,YAAI,WAAW,MAAM,WAAW;AAC9B,gBAAM,UAAU,KAAK,QAAQ;AAC7B,gBAAM,UAAU,KAAK,QAAQ;AAC7B,gBAAM,UAAU,SAAS,QAAQ,KAAK,QAAQ;AAC9C,gBAAM,UAAU,UAAU,QAAQ,KAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,IAIrD;AAAA,MACE,MAAM;AAAA,MACN,SAAS;AAAA,QACP;AAAA,QACA,UAAU,mBAAmB;AAAA,QAC7B;AAAA,QACA,SAAS;AAAA;AAAA;AAAA,IAGb,uBAAuB;AAAA,MACrB,MAAM;AAAA,MACN,SAAS;AAAA,MACT,OAAO;AAAA,MACP,UAAU,CAAC;AAAA,MACX,GAAG,EAAC,SAAa;AACf,cAAM,EAAC,UAAS,MAAM,MAAM;AAE5B,cAAM,OAAO,OAAO,QAAQ,GAAG;AAAA;AAAA,MAEjC,QAAQ,CAAC,EAAC,YAAgB;AACxB,cAAM,aAAa,MAAM,SAAS;AAElC,YAAI,sBAAsB,aAAa;AACrC,gBAAM,SAAS,OAAO,MAAM,QAAQ,GAClC,WAAW,cAAe,WAAU,QAAQ,KAAK,QAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,IAKtE,OAAO;AAAA;",
  "names": []
}
