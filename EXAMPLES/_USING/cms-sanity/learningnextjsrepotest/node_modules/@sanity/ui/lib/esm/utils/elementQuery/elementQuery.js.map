{
  "version": 3,
  "sources": ["../../../../src/utils/elementQuery/elementQuery.tsx"],
  "sourcesContent": ["import React, {forwardRef, useEffect, useMemo, useState} from 'react'\nimport {useForwardedRef} from '../../hooks'\nimport {useTheme} from '../../theme'\nimport {ResizeObserver} from '../resizeObserver'\nimport {findMaxBreakpoints, findMinBreakpoints} from './helpers'\n\n/**\n * DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const ElementQuery = forwardRef(function ElementQuery(\n  props: React.HTMLProps<HTMLDivElement>,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const theme = useTheme()\n  const {media} = theme.sanity\n  const {children, ...restProps} = props\n  const [width, setWidth] = useState(() => window.innerWidth)\n  const forwardedRef = useForwardedRef(ref)\n\n  useEffect(() => {\n    let ro: ResizeObserver\n\n    if (forwardedRef.current) {\n      const handleResizeEntries: ResizeObserverCallback = (entries) => {\n        setWidth(entries[0].contentRect.width)\n      }\n\n      ro = new ResizeObserver(handleResizeEntries)\n      ro.observe(forwardedRef.current)\n    }\n\n    return () => {\n      if (ro) ro.disconnect()\n    }\n  }, [forwardedRef])\n\n  const max = useMemo(() => findMaxBreakpoints(media, width), [media, width])\n  const min = useMemo(() => findMinBreakpoints(media, width), [media, width])\n\n  return (\n    <div\n      {...restProps}\n      data-eq-max={max.length ? max.join(' ') : undefined}\n      data-eq-min={min.length ? min.join(' ') : undefined}\n      ref={forwardedRef}\n    >\n      {children}\n    </div>\n  )\n})\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAMO,MAAM,eAAe,WAAW,uBACrC,OACA,KACA;AACA,QAAM,QAAQ;AACd,QAAM,EAAC,UAAS,MAAM;AACtB,QAAiC,YAA1B,eAA0B,IAAb,sBAAa,IAAb,CAAb;AACP,QAAM,CAAC,OAAO,YAAY,SAAS,MAAM,OAAO;AAChD,QAAM,eAAe,gBAAgB;AAErC,YAAU,MAAM;AACd,QAAI;AAEJ,QAAI,aAAa,SAAS;AACxB,YAAM,sBAA8C,CAAC,YAAY;AAC/D,iBAAS,QAAQ,GAAG,YAAY;AAAA;AAGlC,WAAK,IAAI,eAAe;AACxB,SAAG,QAAQ,aAAa;AAAA;AAG1B,WAAO,MAAM;AACX,UAAI;AAAI,WAAG;AAAA;AAAA,KAEZ,CAAC;AAEJ,QAAM,MAAM,QAAQ,MAAM,mBAAmB,OAAO,QAAQ,CAAC,OAAO;AACpE,QAAM,MAAM,QAAQ,MAAM,mBAAmB,OAAO,QAAQ,CAAC,OAAO;AAEpE,SACE,oCAAC,OAAD,iCACM,YADN;AAAA,IAEE,eAAa,IAAI,SAAS,IAAI,KAAK,OAAO;AAAA,IAC1C,eAAa,IAAI,SAAS,IAAI,KAAK,OAAO;AAAA,IAC1C,KAAK;AAAA,MAEJ;AAAA;",
  "names": []
}
